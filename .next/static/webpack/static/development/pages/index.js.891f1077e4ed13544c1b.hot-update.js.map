{"version":3,"file":"static/webpack/static/development/pages/index.js.891f1077e4ed13544c1b.hot-update.js","sources":["webpack:///./api.js","webpack:///./pages/index.js"],"sourcesContent":["import 'isomorphic-fetch';\n\nexport const getAllQuestions = async (callback) => {\n    const questionsRes = await fetch('http://localhost:4100/questions');\n    const questions = await questionsRes.json();\n    callback(questions);\n};","import QUESTIONS from '../questions';\nimport Layout from '../components/layout';\nimport QuestionsGrid from '../components/questions-grid';\nimport Modal from '../components/modal';\nimport { setQuestionState } from '../helpers';\nimport { getAllQuestions } from '../api';\n\nimport 'isomorphic-fetch';\n\nclass QuestionsBoard extends React.PureComponent {\n    constructor() {\n        super();\n\n        this.state = {\n            isModalOpened: false,\n            questions: [],\n            selectedQuestion: {}\n        };\n\n    }\n\n    componentDidMount() {\n        getAllQuestions((questions) => {\n            console.log('mmm', questions);\n        })\n    }\n\n    answerQuestion = (isCorrect) => () => {\n        const { questions, selectedQuestion: { id } } = this.state;\n        const updatedQuestions = setQuestionState({\n            questions,\n            id,\n            newData: {\n                isCorrect\n            }\n        });\n        this.setState({\n            isModalOpened: false,\n            questions: updatedQuestions,\n            selectedQuestion: {}\n        }, () => {\n            localStorage.setItem('questions', JSON.stringify(updatedQuestions));\n        });\n    }\n\n    setModalVisibility = (visible, question) => (event) => {\n        event.preventDefault();\n        this.setState({\n            isModalOpened: visible,\n            selectedQuestion: question\n        });\n    }\n\n    render() {\n        const { isModalOpened, questions, selectedQuestion } = this.state;\n        console.log('props', this.props);\n\n        return (\n            <>\n                <Modal\n                    answerQuestion={this.answerQuestion}\n                    question={selectedQuestion}\n                    closeModal={this.setModalVisibility(false, {})}\n                    visible={isModalOpened}\n                />\n                <Layout questions={questions} title=\"Preguntas\">\n                    <QuestionsGrid\n                        questions={questions}\n                        setModalVisibility={this.setModalVisibility}\n                        // updateQuestions={}\n                    />\n                </Layout>\n            </>\n        );\n    }\n}\n\nexport default QuestionsBoard;\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAiBA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAHA;AACA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAhBA;AACA;AAlBA;AAmCA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AANA;AACA;AAjCA;AACA;AACA;AACA;AAHA;AAHA;AASA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AA4BA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAjEA;AACA;AAmEA;;;;A","sourceRoot":""}